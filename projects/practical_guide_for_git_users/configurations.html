

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Git基本設定 &mdash; Practical guide for git users 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Practical guide for git users 0.1 documentation" href="index.html"/>
        <link rel="next" title="Git必懂指令" href="commands.html"/>
        <link rel="prev" title="安裝說明" href="installation.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Practical guide for git users</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">安裝說明</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Git基本設定</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#first-thing-first">First thing first.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#push">設定預設的推送(Push)模式</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">設定不需版本控制的檔案</a></li>
<li class="toctree-l2"><a class="reference internal" href="#gitdiff">設定Git預設所使用的diff演算法</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">設定好用的Git指令縮寫</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">其他</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Git必懂指令</a><ul>
<li class="toctree-l2"><a class="reference internal" href="commands.html#id2">單人開發模式 - 新增篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html#id4">單人開發模式 - 修改篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html#id5">單人開發模式 - 刪除篇</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html#id6">單人開發模式 - 刪除Git日誌中的資料</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html#id7">多人合作開發模式</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html#ssh">多人合作開發模式 - 設定SSH金鑰認證</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="branchingmodel.html">Git flow 分支策略</a><ul>
<li class="toctree-l2"><a class="reference internal" href="branchingmodel.html#master">主分支(Master)</a></li>
<li class="toctree-l2"><a class="reference internal" href="branchingmodel.html#feature-release-hotfix">支援分支(feature, release, hotfix)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gitlab.html">GitLab介紹</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gitlab.html#self-hosted-git-management-software">Self hosted Git management software</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gitlabworkflow.html">GitLab工作流程</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gitlabworkflow.html#id1">建立新專案</a></li>
<li class="toctree-l2"><a class="reference internal" href="gitlabworkflow.html#id2">匯入公鑰</a></li>
<li class="toctree-l2"><a class="reference internal" href="gitlabworkflow.html#id3">開放專案</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="references.html">參考資料</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Practical guide for git users</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Git基本設定</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/configurations.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="git">
<h1>Git基本設定<a class="headerlink" href="#git" title="Permalink to this headline">¶</a></h1>
<div class="section" id="first-thing-first">
<h2>First thing first.<a class="headerlink" href="#first-thing-first" title="Permalink to this headline">¶</a></h2>
<p>利用Git進行版本控制之前，需要設定 <tt class="docutils literal"><span class="pre">user.name</span></tt> 及 <tt class="docutils literal"><span class="pre">user.email</span></tt> 。主要原因在於能夠透過這兩個設定了解哪些更動是由哪位成員所做出的，並且提供email的聯絡方式，使得團隊成員彼此間能夠確保至少有一個聯絡的管道。</p>
<p>設定 <tt class="docutils literal"><span class="pre">user.name</span></tt> 及 <tt class="docutils literal"><span class="pre">user.email</span></tt> 的指令如下所示︰</p>
<div class="highlight-python"><div class="highlight"><pre>$ git config --global user.name &quot;Your Name&quot;
$ git config --global user.email you@example.com
</pre></div>
</div>
<ol class="arabic simple">
<li>上述指令加上 <tt class="docutils literal"><span class="pre">--global</span></tt> 代表全域設定</li>
<li>每一位成員送出新版本(push)時，就是依照上述兩個設定紀錄於Git的日誌檔中</li>
</ol>
<p>設定 <tt class="docutils literal"><span class="pre">user.name</span></tt> 及 <tt class="docutils literal"><span class="pre">user.email</span></tt> 之後，可以使用 <tt class="docutils literal"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--list</span></tt> 查看設定確認是否有設定成功。</p>
<div class="highlight-python"><div class="highlight"><pre>$ git config --list
</pre></div>
</div>
<p>上述指令顯示結果如下︰</p>
<div class="highlight-python"><div class="highlight"><pre>user.email=vans@gmail.com
user.name=vans
core.repositoryformatversion=0
core.filemode=true
core.bare=false
core.logallrefupdates=true
core.ignorecase=true
core.precomposeunicode=false
</pre></div>
</div>
<p>而上述的設定的內容，其實是存在使用者的家目錄下的 <tt class="docutils literal"><span class="pre">.gitconfig</span></tt> 檔案內( <tt class="docutils literal"><span class="pre">~/.gitconfig</span></tt> )，因此直接更動這個檔案也可以更改設定。</p>
</div>
<div class="section" id="push">
<h2>設定預設的推送(Push)模式<a class="headerlink" href="#push" title="Permalink to this headline">¶</a></h2>
<p>從Git推送(Push)模式目前有 <tt class="docutils literal"><span class="pre">nothing</span></tt> , <tt class="docutils literal"><span class="pre">matching</span></tt> , <tt class="docutils literal"><span class="pre">upstream</span></tt> , <tt class="docutils literal"><span class="pre">simple</span></tt> , <tt class="docutils literal"><span class="pre">current</span></tt> ，共5種。如果不指定的話，就可能就會顯示以下類似的訊息(依Git版本而異)。</p>
<div class="highlight-python"><div class="highlight"><pre>warning: push.default is unset; its implicit value is changing in
Git 2.0 from &#39;matching&#39; to &#39;simple&#39;. To squelch this message
and maintain the current behavior after the default changes, use:

  git config --global push.default matching

To squelch this message and adopt the new behavior now, use:

  git config --global push.default simple

See &#39;git help config&#39; and search for &#39;push.default&#39; for further information.
(the &#39;simple&#39; mode was introduced in Git 1.7.11. Use the similar mode
&#39;current&#39; instead of &#39;simple&#39; if you sometimes use older versions of Git)
</pre></div>
</div>
<p>那麼要選擇哪一種Push模式？
各位可以依照需求設定，詳細的各種模式說明可以使用以下指令查詢 <tt class="docutils literal"><span class="pre">push.default</span></tt> 的部份：</p>
<div class="highlight-python"><div class="highlight"><pre>$ git help config
</pre></div>
</div>
<p>但一般建議各位使用 <tt class="docutils literal"><span class="pre">current</span></tt> 或 <tt class="docutils literal"><span class="pre">simple</span></tt> 即可，使用 <tt class="docutils literal"><span class="pre">current</span></tt> 模式代表只將目前所在的分支推送至程式碼儲存庫(repository)。相較於其他的推送模式而言，較為安全與單純，設定使用 <tt class="docutils literal"><span class="pre">current</span></tt> 推送模式可以使用以下指令：</p>
<div class="highlight-python"><div class="highlight"><pre>$ git config --global push.default current
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h2>設定不需版本控制的檔案<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>進行系統程式開發時，不免會遇到一些檔案需要針對自己的系統環境進行設定，例如設定資料庫帳號密碼，或是使用 <tt class="docutils literal"><span class="pre">vim</span></tt> 可能會留下 <tt class="docutils literal"><span class="pre">.swp</span></tt> 暫存檔，這些可能具敏感機密的檔案如果不在版本控制系統中設定忽略的規則，就可能會造成資安事件。</p>
<p>因此，團隊成員之間必須在專案開始前，討論並設定必須將哪些檔案排除在版本控制之外。Git版本控制系統則提供 <tt class="docutils literal"><span class="pre">gitignore</span></tt> 的設定，可以將指定的檔案排除版本控制的範圍。</p>
<p>有2種方式設定 <tt class="docutils literal"><span class="pre">gitignore</span></tt> ，一是於專案資料夾內新增 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> ，二是於使用者家目錄下新增 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> ，建議2種方式都使用，原因在於讓被包含在專案的 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> 只需設定專案內部版本控制需要忽略的檔案，使得其他團隊成員就算忘記建立 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> 也能夠保有一定程度的安全性；而使用者家目錄下的 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> 則是可依照各人開發習慣以及作業系統的不同進行設定，而不會影響團隊其他成員的 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> 。</p>
<p>以下是在使用者家目錄下新增MAC OS X <tt class="docutils literal"><span class="pre">.gitignore</span></tt> 的指令及 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> 檔案內容 <a class="footnote-reference" href="#f1" id="id2">[1]</a> 。</p>
<div class="highlight-python"><div class="highlight"><pre>$ cd ~
$ git config --global core.excludesfile ~/.gitignore #設定讀取使用者家目錄下的.gitignore
$ touch .gitignore
$ vim .gitignore
</pre></div>
</div>
<p>MAC OS X 可適用的 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> 檔案內容</p>
<div class="highlight-python"><div class="highlight"><pre># Compiled source
*.com
*.class
*.dll
*.exe
*.o
*.so

# Packages
# it&#39;s better to unpack these files and commit the raw source
# git has its own built in compression methods
*.7z
*.dmg
*.gz
*.iso
*.jar
*.rar
*.tar
*.zip

# Logs and databases
*.log
*.sql
*.sqlite

# OS generated files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db

# Editor generated files
*.swp
*~
</pre></div>
</div>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">.gitignore</span></tt> 內的設定支援 <tt class="docutils literal"><span class="pre">glob</span></tt> 語法(簡化過的正規表示式)</li>
<li><tt class="docutils literal"><span class="pre">.gitignore</span></tt> 也可設定子目錄下的忽略規則，如 <tt class="docutils literal"><span class="pre">output/*.*</span></tt></li>
</ol>
</div>
<div class="section" id="gitdiff">
<h2>設定Git預設所使用的diff演算法<a class="headerlink" href="#gitdiff" title="Permalink to this headline">¶</a></h2>
<p>Git也使用了多種不同的diff演算法，用來進行不同版本間的程式碼或文字內容的比對，目前有 <tt class="docutils literal"><span class="pre">patience</span></tt> , <tt class="docutils literal"><span class="pre">minimal</span></tt> , <tt class="docutils literal"><span class="pre">histogram</span></tt> , <tt class="docutils literal"><span class="pre">myers</span></tt> 4種diff演算法，預設使用 <tt class="docutils literal"><span class="pre">myers</span></tt> 演算法進行比對，此種演算法是使用貪婪(greedy)的方式進行比對，因此有時候比對結果會與我們預期的結果有些出入，建議可以使用 <tt class="docutils literal"><span class="pre">patience</span></tt> 演算法做為預設的diff演算法。</p>
<p>設定預設diff演算法之指令為：</p>
<div class="highlight-python"><div class="highlight"><pre>$ git config --global diff.algorithm patience
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2>設定好用的Git指令縮寫<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>有些常用的Git指令可以利用別名(alias)的功能變成縮寫，可以有效增加工作效率，以下是一些常用的指令別名的設定：</p>
<div class="highlight-python"><div class="highlight"><pre>$ git config --global alias.co checkout
$ git config --global alias.ci commit
$ git config --global alias.st status
$ git config --global alias.br branch
</pre></div>
</div>
<p>此外，有很多網路資源也各自整理了不少常用的指令縮寫，也建議各位可以針對需求增加。
以下列出一些相對重要的指令別名設定：</p>
<ul>
<li><p class="first">設定檔案層級的更改忽略(將以下設定寫入至 <tt class="docutils literal"><span class="pre">.gitconfig</span></tt> 的 <tt class="docutils literal"><span class="pre">[alias]</span></tt> 區塊內)</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>[alias]
        assume = update-index --assume-unchanged
        unassume = update-index --no-assume-unchanged
        assumed = &quot;!git ls-files -v | grep ^h | cut -c 3-&quot;
        unassumeall = &quot;!git assumed | xargs git update-index --no-assume-unchanged&quot;
        assumeall = &quot;!git st -s | awk {&#39;print $2&#39;} | xargs git assume&quot;
</pre></div>
</div>
<p>上述設定的簡要說明如下：</p>
<p><tt class="docutils literal"><span class="pre">.gitignore</span></tt> 設定檔的功能在於將檔案排除在版本控制的範疇之外，但是有些應用程式的開發不免需要設定檔，設定檔就不太適合列入 <tt class="docutils literal"><span class="pre">.gitignore</span></tt> 中，因為我們也需要將設定檔的預設項目列入到版本控制之中，但是每個團隊成員經常在開發過程也會針對各自的任務不同而變更設定檔，如果這些變更也被一併提交推送到程式儲存庫中，就可能變更了預設的設定檔的狀態，也可能造成其他成員在合併設定檔時的衝突。</p>
<p>針對這個問題，我們可以使用 <tt class="docutils literal"><span class="pre">git</span> <span class="pre">update-index</span></tt> 來變更設定檔的狀態，這也是我們設定 <tt class="docutils literal"><span class="pre">assume</span></tt> , <tt class="docutils literal"><span class="pre">unassume</span></tt> 等別名的原因。</p>
<p>例如將設定檔的狀態從「已更改(modified)」變更為「未更改」：</p>
<div class="highlight-python"><div class="highlight"><pre>$ git update --assume-unchanged your_config
$ git assume your_config #此指令與上一指令相同
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">設定快照(snapshot)功能(將以下設定寫入至 <tt class="docutils literal"><span class="pre">.gitconfig</span></tt> 的 <tt class="docutils literal"><span class="pre">[alias]</span></tt> 區塊內)</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre>[alias]
        snapshot = !git stash save &quot;snapshot: $(date)&quot; &amp;&amp; git stash apply &quot;stash@{0}&quot;
</pre></div>
</div>
<p>這個快照功能實際上是使用 <tt class="docutils literal"><span class="pre">git</span> <span class="pre">stash</span></tt> 功能來達成的。簡單而言，就是將目前分支的所有變更以時間為名稱存一份起來，如此一來，就等於是達成了快照功能，你就能夠使用 <tt class="docutils literal"><span class="pre">git</span> <span class="pre">stash</span> <span class="pre">apply</span> <span class="pre">&quot;快照名稱&quot;</span></tt> 來回復到你所想要回到的那個時間點。</p>
<p>可以使用以下指令進行快照、列出所有快照、回復快照：</p>
<div class="highlight-python"><div class="highlight"><pre>$ git snapshot #快照
$ git stash list #列出快照
stash@{0}: On master: Thu Feb 13 14:28:38 CST 2014
stash@{1}: On master: Thu Feb 12 11:20:58 CST 2014
$ git stash apply stash@{1} #回復到2014/2/12所做的快照
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<p>以上就是2個相對重要的功能，如果不懂的話，先有個認識即可，本文會在後續章節中再做一次介紹。</p>
</div>
<div class="section" id="id4">
<h2>其他<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">設定偏好的文字編輯器</p>
<div class="highlight-python"><div class="highlight"><pre>$ git config --global core.editor &quot;vim&quot;
</pre></div>
</div>
</li>
<li><p class="first">開啟Git文字輸出以彩色形式輸出(Git預設輸出是沒有顏色的，我們可以讓Git在輸出時加上顏色讓我們更容易閱讀)</p>
<div class="highlight-python"><div class="highlight"><pre>$ git config --global color.ui true
$ git config --global color.status always
</pre></div>
</div>
</li>
<li><p class="first">客製化提交變更說明</p>
<div class="highlight-python"><div class="highlight"><pre>$ vim your_project/.git/COMMIT_EDITMSG

# 建議格式

subject line

what happened

[ticket: X]
# Please enter the commit message for your changes. Lines starting
# with &#39;#&#39; will be ignored, and an empty message aborts the commit.
# On branch master
# Changes to be committed:
#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
#
# modified:   lib/test.rb
#
</pre></div>
</div>
</li>
</ul>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td><a class="reference external" href="https://help.github.com/articles/ignoring-files">Ignoring files</a> , <a class="reference external" href="https://help.github.com/articles/ignoring-files">https://help.github.com/articles/ignoring-files</a></td></tr>
</tbody>
</table>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="commands.html" class="btn btn-neutral float-right" title="Git必懂指令"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="安裝說明"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, PwnDora.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>